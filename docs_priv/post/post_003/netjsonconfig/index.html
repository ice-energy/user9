<!DOCTYPE html>
<html class="no-js">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Testing &#34;django-netjsonconfig&#34;  &middot; User9 Docs n Recs</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="The challenges which I faced while installing and using **django-netjsonconfig**. " />

<meta name="keywords" content="openwisp, django, ">


<meta property="og:title" content="Testing &#34;django-netjsonconfig&#34;  &middot; User9 Docs n Recs ">
<meta property="og:site_name" content="User9 Docs n Recs"/>
<meta property="og:url" content="https://ice-energy.github.io/user9/post/post_003/netjsonconfig/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content="The challenges which I faced while installing and using **django-netjsonconfig**. "/>
<meta property="og:article:published_time" content="2018-01-14T14:28:40&#43;05:30" />
<meta property="og:article:modified_time" content="2018-01-14T14:28:40&#43;05:30" />

  
    
<meta property="og:article:tag" content="openwisp">
    
<meta property="og:article:tag" content="django">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="Testing &#34;django-netjsonconfig&#34;" />
<meta name="twitter:description" content="The challenges which I faced while installing and using **django-netjsonconfig**. " />
<meta name="twitter:url" content="https://ice-energy.github.io/user9/post/post_003/netjsonconfig/" />
<meta name="twitter:domain" content="https://ice-energy.github.io/user9">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Testing &#34;django-netjsonconfig&#34;",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2018-01-14",
    "description": "The challenges which I faced while installing and using **django-netjsonconfig**. ",
    "wordCount": 481
  }
</script>



<link rel="canonical" href="https://ice-energy.github.io/user9/post/post_003/netjsonconfig/" />

<meta name="generator" content="Hugo 0.41" />


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha256-QUyqZrt5vIjBumoqQV0jM8CgGqscFfdGhN+nVCqX0vc=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />


  <link rel="stylesheet" href="/user9/assets/css/style.css">
  <link rel="stylesheet" href="/user9/assets/css/tomorrow-night.css">

  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/user9/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/user9/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/user9/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/user9/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/user9/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/user9/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/user9/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/user9/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="/user9/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="/user9/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="/user9/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/user9/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/user9/favicon-128.png" sizes="128x128" />
<meta name="application-name" content="Testing &#34;django-netjsonconfig&#34;"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="/user9/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="/user9/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="/user9/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="/user9/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="/user9/mstile-310x310.png" />

</head>
<body class="bg-light">
  <nav class="navbar navbar-expand-md fixed-top site-navbar bg-info">
    <a class="navbar-brand text-white" href="https://ice-energy.github.io/user9">User9 Docs n Recs</a>
  <button class="navbar-toggler" 
  type="button" data-toggle="collapse" data-target="#exCollapsingNavbar2" aria-controls="exCollapsingNavbar2"
    aria-expanded="false" aria-label="Toggle navigation">
    &#9776;
  </button>
  <div class="collapse navbar-collapse" id="exCollapsingNavbar2">
    <ul class="nav navbar-nav ml-auto">
       
      <li class="nav-item">
        <a class="nav-link menu-item" href="/user9/tags/">
          <i class='fa fa-tags'></i>
          <span class="text-capitalize no-decoration text-white">TAGS</span>
        </a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link menu-item" href="/user9/categories/">
          <i class='fa fa-folder-open'></i>
          <span class="text-capitalize no-decoration text-white">CATEGORIES</span>
        </a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link menu-item" href="/user9/page/about-me">
          <i class='fa fa-info-circle'></i>
          <span class="text-capitalize no-decoration text-white">ABOUT</span>
        </a>
      </li>
      
    </ul>
  </div>
</nav>

<div class="container p-a-0">
  <div class="row m-l-0 m-r-0">
    <div class="col-xs-12 col-md-9 post-container">
      <div>
  

  <h1 class="post-title mb-1">Testing &#34;django-netjsonconfig&#34;
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2018-01-14">14 Jan, 2018</time>

    
    &middot; 3 Minute Read
    &middot; 481 Words
  </div>

  
      
      
      <div class="post-meta-item">
          <i class="fa fa-folder-open-o"></i>
          
          <a class="article-category-link" href="/user9/categories/programming/">programming</a>
          
          
      </div>
      
  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="/user9/tags/openwisp/">openwisp</a>
          &middot;
          
          <a href="/user9/tags/django/">django</a>
          
          
        </div>
      
  
  

</div>

</div>

      <div class="content pt-2">
  

<p>A task came up in Google Code-in which asked me to install the
<a href="https://github.com/openwisp/django-netjsonconfig">django-netjsonconfig</a>
module by
<a href="https://www.openwisp.org">OpenWISP</a>.
Furthermore, I&rsquo;m also supposed to share the
challenges I faced during the set-up process as a sort of feedback. I&rsquo;ll be trying
be concise in this post so, without further ado, I&rsquo;m beginning with this post.</p>

<h1 id="installing-django-netjsonconfig">Installing &ldquo;django-netjsonconfig&rdquo;</h1>

<p>The installation instructions for this this module have been well-documented on its
<a href="https://github.com/openwisp/django-netjsonconfig#installing-for-development">GitHub repository</a>.
So I began the installation by creating a <strong>Python 2.7 Virtual Environment</strong> using
<code>python2 -m virtualenv py2</code> for the sake of cleanliness on my local machine. I chose
<code>python2</code> for since for this since I was also on the lookout for bugs in the module and
most of the bugs seem to be related with it since it&rsquo;s a bit outdated now.</p>

<p>I then activated the <code>virtualenv</code> and started entering the installation commands
according to the instructions in the repository. Everything went on smoothly until
the <code>python setup.py develop</code> command. I got an error as shown in the below picture.</p>

<p><img src="../img/cover_django2.png" alt="develop failed" /></p>

<p>Clearly, the error suggests that <strong>Django v2.0.1</strong> was being downloaded which
<strong>isn&rsquo;t supported</strong> by <strong>Python 2.7</strong>. A bit of browsing led me to the conclusion
that the <code>setup.py</code> needed to be modified to download <strong>older Django versions</strong> for
Python 2.7. So, I added a simple <code>if-else</code> block to the django installation statement
as shown in the picture.</p>

<p><img src="../img/my-fix.png" alt="setup.py fix" /></p>

<p>If you&rsquo;re curious about my fix,  this is the
<a href="https://github.com/UtkarshVerma/django-netjsonconfig/commit/1575acbbc719e539cd8ecbffc761d8b9c2023d56">link</a>.</p>

<p>Here, what&rsquo;s being done is basically:</p>

<ul>
<li>Detect <code>python</code> version used for installation using <code>sys.version_info[0]</code>.</li>
<li>Install older Django versions if <code>sys.version_info[0]&lt;3</code>, that is <code>python2</code> is detected.</li>
<li>Install latest version if above condition isn&rsquo;t satisfied, that is <code>python3</code> is detected.</li>
</ul>

<p>I also had to remove the django installation line from <code>requirements.txt</code> since <code>setup.py</code>
was fetching the requirement names from there. After applying this fix, I re-ran the
<code>python setup.py develop</code> command and there it was! The sweet smell of success. Now
an <strong>older yet python2 compatible</strong> version of <strong>Django</strong> was being installed when
using <code>python2</code> as clearly shown in one of the pictures below:</p>

<p><img src="../img/django-v-fixed.png" alt="Older Django being downloaded" /></p>

<p><img src="../img/Success.png" alt="Successful!" /></p>

<p>After this, I installed some more requirements using <code>pip install -r requirements-test.txt</code>
This was how I&rsquo;d finished installing <code>django-netjsonconfig</code> using Python2. Now all that was
left to do was to to do the migrations and run the server.</p>

<h1 id="making-migrations-and-creating-a-superuser">Making Migrations and Creating a superuser</h1>

<p>By referring to the instructions on the repo again, I opened the <code>tests</code> directory,
did the migrations using <code>./manage.py migrate</code>. It was really satisfying to see all
the CLI responses coloured in <strong>green</strong>. :smile:
<img src="../img/migrate.png" alt="Migrate" /></p>

<p>After that, there was the superuser creation using <code>./manage.py createsuperuser</code>.</p>

<p><img src="../img/superuser.png" alt="Superuser creation" /></p>

<h1 id="running-the-test-server">Running the Test Server</h1>

<p>I started the test server using <code>./manage.py runserver</code> and it was successful.</p>

<p><img src="../img/up-and-running.png" alt="Server Up and Running!" /></p>

<p>I could also now visit the server at
<a href="http://localhost/admin">http://localhost:8000/admin</a>.</p>

<p><img src="../img/logged-in.png" alt="Logged In" /></p>

<h1 id="conclusion">Conclusion</h1>

<p>So, that&rsquo;s how I installed the <strong>django-netjsonconfig</strong> module.
Also, I&rsquo;ve commited my fixes to my <strong>forked repo</strong>
<a href="https://github.com/UtkarshVerma/django-netjsonconfig">here</a>.
Here&rsquo;s the
<a href="https://github.com/openwisp/django-netjsonconfig/pull/71">link to my pull request</a>.
That concludes this post.</p>

</div>

      <footer>
  
   
  
  <nav>
    <ul class="pagination">
      
      <li class="page-item">
        <a href="https://ice-energy.github.io/user9/post/post_006/gci/" title="Google Code-in with OpenWISP " class="page-link">
          <span aria-hidden="true">&larr;</span>Previous
        </a>
      </li>
       
      
      <li class="page-item">
        <a href="https://ice-energy.github.io/user9/post/post_004/mos/" title="Mongoose OS on ESPer" class="page-link">
          Next
          <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
      
    </ul>
  </nav>
   
  
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <div class="pt-4">
        
      </div>
    </div>
  </div>
</footer>
    </div>
      <div class="col-xs-12 col-md-3">
        <div class="sidebar">
  
<div class="card card-block">
  <h4 class="card-title">RECENT POSTS</h4>
  <div class="card-text">
    <div class="widget">
      <ul id="recent-post">
        
        <li>
          <div class="item-thumbnail bg-dark">
              <a href="https://ice-energy.github.io/user9/post/post_004/mos/" class="thumbnail">
              
                  <span class="thumbnail-image thumbnail-none"></span>
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="/user9/post/post_004/mos/" class="title">Mongoose OS on ESPer</a></p>
            </div>
        </li>
        
        <li>
          <div class="item-thumbnail bg-dark">
              <a href="https://ice-energy.github.io/user9/post/post_003/netjsonconfig/" class="thumbnail">
              
                  <span class="thumbnail-image thumbnail-none"></span>
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="/user9/post/post_003/netjsonconfig/" class="title">Testing &ldquo;django-netjsonconfig&rdquo;</a></p>
            </div>
        </li>
        
        <li>
          <div class="item-thumbnail bg-dark">
              <a href="https://ice-energy.github.io/user9/post/post_006/gci/" class="thumbnail">
              
                  <span class="thumbnail-image thumbnail-none"></span>
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="/user9/post/post_006/gci/" class="title">Google Code-in with OpenWISP</a></p>
            </div>
        </li>
        
      </ul>
    </div>
  </div>
</div>


  


<div class="card card-block">
  <h4 class="card-title">CATEGORIES</h4>
  <div class="card-text">
    <div class="widget">
      <ul>
        
        <li class="category-list-item">
            <a href="/user9/categories/programming/">
                programming
            </a>
            <span class="category-list-count">1</span>
        </li>
        
      </ul>
    </div>
  </div>
</div>




  



<div class="card card-block">
  <h4 class="card-title">TAGS</h4>
  <div class="card-text">
    <div class="widget">
      <ul>
        
          <li>
            <a href="/user9/tags/django/">django</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="/user9/tags/esp32/">esp32</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="/user9/tags/google-code-in/">google-code-in</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="/user9/tags/openwisp/">openwisp</a>
            <span class="category-list-count">2</span>
          </li>
        
      </ul>
    </div>
  </div>
</div>




  


<div class="card card-block">
  <h4 class="card-title">TAG CLOUD</h4>
  <p class="card-text">
    
        <a href="/user9/tags/django/" class="badge badge-primary">
        django
        </a>
    
        <a href="/user9/tags/esp32/" class="badge badge-primary">
        esp32
        </a>
    
        <a href="/user9/tags/google-code-in/" class="badge badge-primary">
        google-code-in
        </a>
    
        <a href="/user9/tags/openwisp/" class="badge badge-primary">
        openwisp
        </a>
    
  </p>
</div>




</div>

      </div>
  </div>
</div>
      <footer class="footer text-white bg-info">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-md-9">
        <p class="text-xs-center m-a-0 p-a-0">
          &copy; 2018 Copyright &copy; 2008 - 2018, Ice-Energy; all rights reserved.
        </p>
        
        <p class="text-xs-center  m-a-0 p-a-0">
            
          <span class="p-l-1 p-r-1">
                <a href="/user9/page/license/" class="text-capitalize no-decoration text-white">LICENSE</a>
              </span>
              &middot; 
          <span class="p-l-1 p-r-1">
                <a href="/user9/page/disclaimer/" class="text-capitalize no-decoration text-white">DISCLAIMER</a>
              </span>
                
        </p>
        
      </div>
    </div>
  </div>
</footer>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha256-GIa8Vh3sfESnVB2CN3rYGkD/MklvMq0lmITweQxE1qU=" crossorigin="anonymous"></script>

<script src="/user9/assets/js/highlight.pack.js"></script>

<script>hljs.initHighlightingOnLoad();</script>



<script src="/user9/assets/js/script.js"></script>




  </body>
</html>

